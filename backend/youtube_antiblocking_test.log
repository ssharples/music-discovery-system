2025-06-10 17:45:19,224 - __main__ - INFO - üé¨ YouTube Anti-Blocking Test Suite Starting
2025-06-10 17:45:19,224 - __main__ - INFO - 
üåê Testing Browser Configuration Variations
2025-06-10 17:45:19,224 - app.agents.crawl4ai_youtube_agent - INFO - ‚úÖ Enhanced Crawl4AI YouTube Agent initialized with anti-blocking features
2025-06-10 17:45:19,224 - __main__ - INFO - 
üîß Testing Browser Config #1
2025-06-10 17:45:19,276 - __main__ - ERROR - üí• Test suite failed: CrawlerRunConfig.__init__() got an unexpected keyword argument 'headers'
2025-06-10 17:45:50,518 - __main__ - INFO - üé¨ YouTube Anti-Blocking Test Suite Starting
2025-06-10 17:45:50,518 - __main__ - INFO - 
üåê Testing Browser Configuration Variations
2025-06-10 17:45:50,518 - app.agents.crawl4ai_youtube_agent - INFO - ‚úÖ Enhanced Crawl4AI YouTube Agent initialized with anti-blocking features
2025-06-10 17:45:50,518 - __main__ - INFO - 
üîß Testing Browser Config #1
2025-06-10 17:45:50,668 - __main__ - INFO - User Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) Ap...
2025-06-10 17:45:50,668 - __main__ - INFO - Viewport: 1366x768
2025-06-10 17:45:50,669 - __main__ - INFO - Locale: fr-FR
2025-06-10 17:45:50,669 - __main__ - INFO - Geolocation: 40.7128, -74.0060
2025-06-10 17:45:58,312 - __main__ - INFO - ‚úÖ Configuration test passed
2025-06-10 17:46:00,449 - __main__ - INFO - 
üîß Testing Browser Config #2
2025-06-10 17:46:00,489 - __main__ - INFO - User Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:121.0...
2025-06-10 17:46:00,489 - __main__ - INFO - Viewport: 1440x900
2025-06-10 17:46:00,489 - __main__ - INFO - Locale: en-US
2025-06-10 17:46:00,489 - __main__ - INFO - Geolocation: 51.5074, -0.1278
2025-06-10 17:46:09,212 - __main__ - INFO - ‚úÖ Configuration test passed
2025-06-10 17:46:11,316 - __main__ - INFO - 
üîß Testing Browser Config #3
2025-06-10 17:46:11,372 - __main__ - INFO - User Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) Ap...
2025-06-10 17:46:11,372 - __main__ - INFO - Viewport: 1920x1080
2025-06-10 17:46:11,372 - __main__ - INFO - Locale: en-GB
2025-06-10 17:46:11,373 - __main__ - INFO - Geolocation: 51.5074, -0.1278
2025-06-10 17:46:18,241 - __main__ - INFO - ‚úÖ Configuration test passed
2025-06-10 17:46:20,351 - __main__ - INFO - 
üß™ Testing Individual Anti-Blocking Strategies
2025-06-10 17:46:20,352 - app.agents.crawl4ai_youtube_agent - INFO - ‚úÖ Enhanced Crawl4AI YouTube Agent initialized with anti-blocking features
2025-06-10 17:46:20,352 - __main__ - INFO - 
üî¨ Testing Magic Mode Strategy
2025-06-10 17:46:20,352 - __main__ - INFO - ----------------------------------------
2025-06-10 17:48:27,288 - __main__ - INFO - ‚ùå Magic Mode: FAILED - Magic mode crawl failed: Unexpected error in _crawl_web at line 944 in _crawl_web (../../../miniconda/lib/python3.11/site-packages/crawl4ai/async_crawler_strategy.py):
Error: Wait condition failed: Timeout after 120000ms waiting for selector 'body'

Code context:
 939                   try:
 940                       await self.smart_wait(
 941                           page, config.wait_for, timeout=config.page_timeout
 942                       )
 943                   except Exception as e:
 944 ‚Üí                     raise RuntimeError(f"Wait condition failed: {str(e)}")
 945   
 946               # Update image dimensions if needed
 947               if not self.browser_config.text_mode:
 948                   update_image_dimensions_js = load_js_script("update_image_dimensions")
 949                   try:
2025-06-10 17:48:30,290 - __main__ - INFO - 
üî¨ Testing Extended Stealth Strategy
2025-06-10 17:48:30,290 - __main__ - INFO - ----------------------------------------
2025-06-10 17:56:05,119 - __main__ - INFO - ‚ùå Extended Stealth: FAILED - Extended stealth crawl failed: Unexpected error in _crawl_web at line 944 in _crawl_web (../../../miniconda/lib/python3.11/site-packages/crawl4ai/async_crawler_strategy.py):
Error: Wait condition failed: Timeout after 120000ms waiting for selector 'body'

Code context:
 939                   try:
 940                       await self.smart_wait(
 941                           page, config.wait_for, timeout=config.page_timeout
 942                       )
 943                   except Exception as e:
 944 ‚Üí                     raise RuntimeError(f"Wait condition failed: {str(e)}")
 945   
 946               # Update image dimensions if needed
 947               if not self.browser_config.text_mode:
 948                   update_image_dimensions_js = load_js_script("update_image_dimensions")
 949                   try:
2025-06-10 17:56:08,121 - __main__ - INFO - 
üî¨ Testing Mobile Emulation Strategy
2025-06-10 17:56:08,122 - __main__ - INFO - ----------------------------------------
2025-06-10 17:56:08,178 - __main__ - ERROR - üí• Mobile Emulation: EXCEPTION - CrawlerRunConfig.__init__() got an unexpected keyword argument 'headers' in 0.05s
2025-06-10 17:56:11,179 - __main__ - INFO - üöÄ Starting YouTube Anti-Blocking Test
2025-06-10 17:56:11,180 - app.agents.crawl4ai_youtube_agent - INFO - ‚úÖ Enhanced Crawl4AI YouTube Agent initialized with anti-blocking features
2025-06-10 17:56:11,180 - __main__ - INFO - 
============================================================
2025-06-10 17:56:11,180 - __main__ - INFO - üîç Testing query: 'official music video'
2025-06-10 17:56:11,180 - __main__ - INFO - ============================================================
2025-06-10 17:56:11,180 - app.agents.crawl4ai_youtube_agent - INFO - Attempting YouTube search with strategy 1: _search_with_magic_mode
2025-06-10 17:58:18,816 - app.agents.crawl4ai_youtube_agent - WARNING - Strategy 1 failed: Magic mode crawl failed: Unexpected error in _crawl_web at line 944 in _crawl_web (../../../miniconda/lib/python3.11/site-packages/crawl4ai/async_crawler_strategy.py):
Error: Wait condition failed: Timeout after 120000ms waiting for selector 'body'

Code context:
 939                   try:
 940                       await self.smart_wait(
 941                           page, config.wait_for, timeout=config.page_timeout
 942                       )
 943                   except Exception as e:
 944 ‚Üí                     raise RuntimeError(f"Wait condition failed: {str(e)}")
 945   
 946               # Update image dimensions if needed
 947               if not self.browser_config.text_mode:
 948                   update_image_dimensions_js = load_js_script("update_image_dimensions")
 949                   try:
2025-06-10 17:58:24,268 - app.agents.crawl4ai_youtube_agent - INFO - Attempting YouTube search with strategy 2: _search_with_extended_stealth
2025-06-10 18:03:07,398 - app.agents.crawl4ai_youtube_agent - WARNING - Strategy 2 failed: Extended stealth crawl failed: Unexpected error in _crawl_web at line 944 in _crawl_web (../../../miniconda/lib/python3.11/site-packages/crawl4ai/async_crawler_strategy.py):
Error: Wait condition failed: Timeout after 120000ms waiting for selector 'body'

Code context:
 939                   try:
 940                       await self.smart_wait(
 941                           page, config.wait_for, timeout=config.page_timeout
 942                       )
 943                   except Exception as e:
 944 ‚Üí                     raise RuntimeError(f"Wait condition failed: {str(e)}")
 945   
 946               # Update image dimensions if needed
 947               if not self.browser_config.text_mode:
 948                   update_image_dimensions_js = load_js_script("update_image_dimensions")
 949                   try:
2025-06-10 18:03:14,641 - app.agents.crawl4ai_youtube_agent - INFO - Attempting YouTube search with strategy 3: _search_with_mobile_emulation
2025-06-10 18:03:14,694 - app.agents.crawl4ai_youtube_agent - ERROR - Strategy 3 exception: CrawlerRunConfig.__init__() got an unexpected keyword argument 'headers'
